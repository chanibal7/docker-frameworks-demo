<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 6, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
		Apache Synapse - Script Setup Guide</title>
    <style type="text/css" media="all">
      @import url("../../../css/maven-base.css");
      @import url("../../../css/maven-theme.css");
      @import url("../../../css/site.css");
    </style>
    <link rel="stylesheet" href="../../../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120106" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Apache Synapse
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-01-06</span>
                  &nbsp;| <span id="projectVersion">Version: 2.1.0</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Main Menu</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="../../../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../../../history.html" title="History">History</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">Thanks</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/security/" class="externalLink" title="Security">Security</a>
            </li>
          </ul>
                       <h5>Documentation</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../userguide/installation.html" title="Installation Guide">Installation Guide</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/quick_start.html" title="Quick Start Guide">Quick Start Guide</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/samples/setup/index.html" title="Samples Setup Guide">Samples Setup Guide</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/samples.html" title="Samples Catalog">Samples Catalog</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/config.html" title="Configuration Language">Configuration Language</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/mediators.html" title="Mediators Catalog">Mediators Catalog</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/transports.html" title="Transports Catalog">Transports Catalog</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/extending.html" title="Extending Synapse">Extending Synapse</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/upgrading.html" title="Upgrading">Upgrading</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/deployment.html" title="Deployment">Deployment</a>
            </li>
                  <li class="none">
                          <a href="../../../apidocs/" title="Javadocs">Javadocs</a>
            </li>
                  <li class="none">
                          <a href="../../../userguide/faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Developer Resources</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../dev/developer-guide.html" title="Developer Guide">Developer Guide</a>
            </li>
                  <li class="none">
                          <a href="../../../dev/best-practices.html" title="Development Best Practices">Development Best Practices</a>
            </li>
                  <li class="none">
                          <a href="../../../dev/release-process.html" title="Release Process">Release Process</a>
            </li>
          </ul>
                       <h5>Project Details</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../project-info.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../../../mail-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
                  <li class="none">
                          <a href="../../../source-repository.html" title="Source Repository">Source Repository</a>
            </li>
                  <li class="none">
                          <a href="../../../issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
            </li>
                  <li class="none">
                          <a href="../../../dependencies.html" title="Dependencies">Dependencies</a>
            </li>
                  <li class="none">
                          <a href="../../../team-list.html" title="Project Team">Project Team</a>
            </li>
                  <li class="none">
                          <a href="../../../project-summary.html" title="Project Summary">Project Summary</a>
            </li>
          </ul>
                       <h5>Previous Releases</h5>
                  <ul>
                  <li class="none">
                          <a href="../../../1_2/docs_index.html" title="Version 1.2">Version 1.2</a>
            </li>
                  <li class="none">
                          <a href="../../../1_1_1/content.html" title="Version 1.1.1">Version 1.1.1</a>
            </li>
                  <li class="none">
                          <a href="../../../1_1/content.html" title="Version 1.1">Version 1.1</a>
            </li>
                  <li class="none">
                          <a href="../../../1_0/content.html" title="Version 1.0">Version 1.0</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../../../images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- ~ Licensed to the Apache Software Foundation (ASF) under one ~ or more 
	contributor license agreements. See the NOTICE file ~ distributed with this 
	work for additional information ~ regarding copyright ownership. The ASF 
	licenses this file ~ to you under the Apache License, Version 2.0 (the ~ 
	"License"); you may not use this file except in compliance ~ with the License. 
	You may obtain a copy of the License at ~ ~ http://www.apache.org/licenses/LICENSE-2.0 
	~ ~ Unless required by applicable law or agreed to in writing, ~ software 
	distributed under the License is distributed on an ~ * "AS IS" BASIS, WITHOUT 
	WARRANTIES OR CONDITIONS OF ANY ~ KIND, either express or implied. See the 
	License for the ~ specific language governing permissions and limitations 
	~ under the License. -->
	
        <div class="section"><h2>Script Setup Guide<a name="Script_Setup_Guide"></a></h2>
            <p>
                Apache Synapse ships with a set of scripting samples. This document explains
                how to setup the necessary script engines for these samples. In addition this
                guide describes how to setup the JSON message builder and formatter for JSON
                mediation samples.
            </p>
        </div>
		<div class="section"><h2>Contents<a name="Contents"></a></h2>
			<ul>
				<li>
					<a href="#intro">Introduction</a>
				</li>
				<li>
					<a href="#javaScript">JavaScripts Support</a>
				</li>
				<li>
					<a href="#ruby">Ruby Support</a>
				</li>
				<li>
					<a href="#json">JSON Support</a>
				</li>
			</ul>
		</div>
		<a name="intro"></a><div class="section"><h2 id="intro">Configuring Synapse for Script Mediator Support</h2>
			<p>
				The Synapse Script Mediator is a Synapse extension, and thus all
				prerequisites are not bundled by default with the Synapse
				distribution.Before you use some script mediators you may need to
				manually add the required jar files to the Synapse lib directory, and
				optionally 	perform other installation tasks as may be required by the
				individual scripting language. This is explained in the following
				sections.
			</p>
			<a name="javaScript"></a><div class="section"><h3 id="javaScript">JavaScript Support</h3>

				<p>
					The JavaScript/E4X support is enabled by default and comes
					ready-to-use with the Synapse distribution.
				</p>
			</div>
			<a name="ruby"></a><div class="section"><h3 id="ruby">Ruby Support</h3>
				<p>
					For Ruby support you need to download the 'jruby-complete.jar'
					from the Maven repository for JRuby, and copy it into the 'lib'
					folder of Synapse . The JRuby JAR can be downloaded from
					<a class="externalLink" href="http://repo2.maven.org/maven2/org/jruby/jruby-complete/1.3.0/jruby-complete-1.3.0.jar">
						here
					</a>
				</p>
			</div>
			<a name="json"></a><div class="section"><h3 id="json">JSON Support</h3>
				<p>
					<a class="externalLink" href="http://json.org">JSON</a>
					is a lightweight data-interchange format.
					It can be used as an alternative to XML or SOAP. To enable the JSON
					support in Synapse, following two jar files should be deployed into the 'lib'
					directory of Synapse.
				</p>
				<ul>
					<li>
						<a class="externalLink" href="http://repo1.maven.org/maven2/org/apache/axis2/axis2-json">axis2-json.jar</a>
					</li>
					<li>
						<a class="externalLink" href="http://jettison.codehaus.org/Download">jettison.jar</a>
					</li>
				</ul>
                <p>
                    Jettison 1.1 is recommended.
                </p>
				<p>
      			Having deployed the necessary libraries you should now register the JSON message
      			builder and formatter with Synapse. Open up 'repository/conf/axis2.xml' file
      			of Synapse and add the following two entries under the 'messageBuilders' and
      			'messageFormatters' sections respectively.
    			</p>
    			<div class="xmlConf">&lt;messageBuilder contentType=&quot;application/json&quot;
    class=&quot;org.apache.axis2.json.JSONOMBuilder&quot;/&gt;

&lt;messageFormatter contentType=&quot;application/json&quot;
    class=&quot;org.apache.axis2.json.JSONMessageFormatter&quot;/&gt;</div>
    			<p>
                    If you are planning to run sample 440, you should also add the above two entries
                    to the 'samples/axis2Client/client_repo/conf/axis2.xml' file.
    			</p>
			</div>

		</div>
	

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2005-2012
                        <a href="http://www.apache.org/">Apache Software Foundation</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
